<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="AI-powered feedback management system for community-driven product development. Submit, analyze, and prioritize feedback with intelligent insights.">
    <meta name="keywords" content="feedback, AI, product development, community, voice of customer, user research, prioritization">
    <meta name="author" content="Feedback Team">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#4f46e5">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://feedback.dyagnosys.com">
    <meta property="og:title" content="Feedback - AI-Powered Community Voice">
    <meta property="og:description" content="Share your feedback, get AI-powered insights, and help shape the product.">
    <meta property="og:image" content="https://feedback.dyagnosys.com/api/og">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:type" content="image/png">
    <meta property="og:site_name" content="Feedback">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://feedback.dyagnosys.com">
    <meta name="twitter:title" content="Feedback - AI-Powered Community Voice">
    <meta name="twitter:description" content="Share your feedback, get AI-powered insights, and help shape the product.">
    <meta name="twitter:image" content="https://feedback.dyagnosys.com/api/og">

    <!-- WhatsApp / Social Sharing -->
    <meta property="og:locale" content="en_US">
    <meta property="og:locale:alternate" content="es_ES,pt_BR">

    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com">

    <title>Feedback - AI-Powered Community Voice</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Dynamic OG image updater -->
    <script>
        (function() {
            // Get language from localStorage or detect from browser
            const getLanguage = () => {
                const stored = localStorage.getItem('voxpop_language');
                if (stored && ['en', 'es', 'pt'].includes(stored)) {
                    return stored;
                }
                const browserLang = navigator.language.toLowerCase();
                if (browserLang.startsWith('es')) return 'es';
                if (browserLang.startsWith('pt')) return 'pt';
                return 'en';
            };

            const translations = {
                en: {
                    title: 'Feedback - AI-Powered Community Voice',
                    description: 'Share your feedback, get AI-powered insights, and help shape the product.'
                },
                es: {
                    title: 'Feedback - Voz de la Comunidad Impulsada por IA',
                    description: 'Comparte tus comentarios, obt√©n insights impulsados por IA y ayuda a dar forma al producto.'
                },
                pt: {
                    title: 'Feedback - Voz da Comunidade Impulsionada por IA',
                    description: 'Compartilhe seu feedback, obtenha insights impulsionados por IA e ajude a moldar o produto.'
                }
            };

            const lang = getLanguage();
            const baseUrl = 'https://feedback.dyagnosys.com';
            const ogImageUrl = `${baseUrl}/api/og?lang=${lang}`;
            const t = translations[lang];

            // Update meta tags
            document.querySelector('meta[property="og:image"]').setAttribute('content', ogImageUrl);
            document.querySelector('meta[name="twitter:image"]').setAttribute('content', ogImageUrl);
            document.querySelector('meta[property="og:title"]').setAttribute('content', t.title);
            document.querySelector('meta[name="twitter:title"]').setAttribute('content', t.title);
            document.querySelector('meta[property="og:description"]').setAttribute('content', t.description);
            document.querySelector('meta[name="twitter:description"]').setAttribute('content', t.description);
            document.querySelector('title').textContent = t.title;

            // Listen for language changes
            window.addEventListener('storage', function(e) {
                if (e.key === 'voxpop_language' && e.newValue) {
                    const newLang = e.newValue;
                    const newOgImageUrl = `${baseUrl}/api/og?lang=${newLang}`;
                    const newT = translations[newLang];

                    document.querySelector('meta[property="og:image"]').setAttribute('content', newOgImageUrl);
                    document.querySelector('meta[name="twitter:image"]').setAttribute('content', newOgImageUrl);
                    document.querySelector('meta[property="og:title"]').setAttribute('content', newT.title);
                    document.querySelector('meta[name="twitter:title"]').setAttribute('content', newT.title);
                    document.querySelector('meta[property="og:description"]').setAttribute('content', newT.description);
                    document.querySelector('meta[name="twitter:description"]').setAttribute('content', newT.description);
                    document.querySelector('title').textContent = newT.title;
                }
            });
        })();
    </script>

    <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@18.3.1",
    "react-dom": "https://esm.sh/react-dom@18.3.1",
    "react-dom/client": "https://esm.sh/react-dom@18.3.1/client",
    "react/": "https://esm.sh/react@18.3.1/",
    "react-dom/": "https://esm.sh/react-dom@18.3.1/",
    "@google/genai": "https://esm.sh/@google/genai@1.3.0"
  }
}
</script>
</head>
<body class="bg-gray-50 text-gray-900 min-h-screen font-sans antialiased">
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
</body>
</html>